<!DOCTYPE html>
<html>
	<head>
		<style>
		
			img{
				display:block;
				margin:0 auto;
			}
			.tuile{
				display: inline-block;
				width: 16px;
				height:16px;
			}
			
			.ligne{
				height:16px;
			}
		</style>
	</head>
	<body>
		<script>
		
		var map = [
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "	," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","M"],
			["M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M"]
			
		];
		
		
		
		// typebalise 	: Le type de balise qui sera créer (div, p, span, ...)
		// textebalise 	: Le contenu littéral de la nouvelle balise ("texte","<img> ...")
		// parent 			: l'élément auuel sera rattaché la nouvelle balise
		// id					: L'attribut "id" de la nouvelle balise	
		function CreerBalise(typebalise, textebalise, parent, id) {
			var para 				= document.createElement(typebalise);                      
			para.innerHTML 	= textebalise;
			
			parent.appendChild(para);
			
			var att 	= document.createAttribute("id");      
			att.value 	= id;                         
			para.setAttributeNode(att);
		}
		
		function AjouterClass(id, classe) {
			var att 	= document.createAttribute("class");      
			att.value 	= classe;                         
			document.getElementById(id).setAttributeNode(att);
		};
		
		function AfficherMapDocumentImg() {
			CreerBalise("DIV", "", document.body, "containermap");
			for(var i = 0 ; i < map.length ; i++){
				CreerBalise("DIV", "", document.getElementById("containermap"), "ligne" + i);
				AjouterClass("ligne"+i , "ligne");
				for(var j = 0 ; j < map[i].length ; j++) {
					if(map[i][j] == "M"){
						CreerBalise("DIV", "<img src='mur.png' width=16px height=16px>", document.getElementById("ligne"+i), "map" + j + "ligne" + i);
					} else if (map[i][j] == "S"){
						CreerBalise("DIV", "<img src='Metal.png' width=16px height=16px>", document.getElementById("ligne"+i), "map" + j+ "ligne" + i);
					} else {
						CreerBalise("DIV", "<img src='ciel.png' width=16px height=16px>", document.getElementById("ligne"+i), "map" + j+ "ligne" + i);
					}
					AjouterClass("map"+j + "ligne" + i, "tuile");
				}
			}
		}
		
		var X = 6;
		setTimeout(Jouer, 500);
			
		function Jouer(){
			EffacerPerso(X,19);
			X++;
			DessinerPerso(X,19);
			if(document.getElementsByTagName("DIV").length>0){
				var div = document.getElementsByTagName("DIV")[0];
				document.body.removeChild(document.body.childNodes[1]);
			};
			AfficherMapDocumentImg();
			setTimeout(Jouer, 500);
		};
		
		function DessinerPerso(x,y){
			map[y][x]="S";
			map[y][x+1]="S";
			map[y+1][x ]="S";
			map[y+1][x+1]="S";
			map[y+2][x ]="S";
			map[y+2][x+1]="S";
			map[y+2][x+2]="S";
			map[y+2][x-1]="S";
			map[y+3][x]="S";
			map[y+3][x+1]="S";
			map[y+3][x+3]="S";
			map[y+3][x-1]="S";
			map[y+4][x-1]="S";
			map[y+4][x+1]="S";
			map[y+4][x+4]="S";
			map[y+5][x-1]="S";
			map[y+5][x+1]="S";
		};
		function EffacerPerso(x,y){
			map[y][x]=" ";
			map[y][x+1]=" ";
			map[y+1][x ]=" ";
			map[y+1][x+1]=" ";
			map[y+2][x ]=" ";
			map[y+2][x+1]=" ";
			map[y+2][x+2]=" ";
			map[y+2][x-1]=" ";
			map[y+3][x]=" ";
			map[y+3][x+1]=" ";
			map[y+3][x+3]=" ";
			map[y+3][x-1]=" ";
			map[y+4][x-1]=" ";
			map[y+4][x+1]=" ";
			map[y+4][x+4]=" ";
			map[y+5][x-1]=" ";
			map[y+5][x+1]=" ";
		};
		</script>
		
	</body>
</html>